# 🏪 PM Inventory System V4 - Developer Guide

## 📋 Project Overview

**PM Inventory System V4** is a comprehensive inventory management solution for "Perabot Megah" (furniture business) that handles real-time inventory tracking between Shop and Warehouse locations. The system provides both staff interfaces for inventory operations and manager dashboards for analytics.

### **Current Status: ADMIN INTERFACE COMPLETE** ✅
- **Backend**: Google Apps Script with all 4 operation modes functional
- **Frontend**: MVP interface working, **ADMIN INTERFACE COMPLETE** with all 4 modes
- **Database**: Google Sheets integration with real-time updates

### **Target Users**
- **Staff**: Admin workers, warehouse staff, shop staff
- **Managers**: Supervisors, business owners, inventory analysts
- **Developers**: Web developers, system integrators

---

## 🏗️ Project Structure

```
pm-inventory-system-v4/
├── 📁 Frontend Files
│   ├── index.html              # MVP testing interface (FULLY FUNCTIONAL)
│   ├── admin-page.html         # ✅ **COMPLETE** - Professional staff interface with all 4 modes
│   └── dashboard-page.html     # Manager analytics view (PLANNED)
├── 📁 Backend Files
│   └── gas-related/
│       ├── Code.gs             # Google Apps Script backend (FULLY FUNCTIONAL)
│       ├── README.md           # Technical documentation
│       ├── DEPLOYMENT-CHECKLIST.md # Deployment instructions
│       ├── test-functions.gs   # Testing and validation functions
│       └── sheet-structure.txt # Database schema
├── 📁 Documentation
│   ├── V4.md                  # This file - CENTRAL DEV GUIDE
│   ├── ADMIN-PAGE-PROGRESS.md # Development progress tracking
│   ├── PROTOTYPE-STATUS.md    # Current system status
│   └── FINAL-DELIVERABLES.md  # Project requirements
└── 📁 Scripts
    ├── push-to-github.bat     # Git deployment script
    └── quick-push.bat         # Quick git update script
```

---

## 🎯 Core Features & Operation Modes

### **✅ Currently Working (All 4 Modes)**
1. **📦 RECEIVING** - Add new stock to locations (Shop/Warehouse)
2. **💰 SALE** - Reduce stock from Shop location
3. **🔄 TRANSFER** - Move stock between Shop ↔ Warehouse
4. **⚖️ ADJUSTMENT** - Set exact stock levels (including negative corrections)

### **🔧 In Development**
- **Admin Page**: ✅ **COMPLETE** - Professional staff interface with all 4 operation modes
- **Dashboard Page**: Manager analytics and reporting interface
- **Enhanced UI/UX**: Professional design and user experience

### **📋 Planned Features**
- User authentication and role-based access
- Advanced reporting and analytics
- Email alerts and notifications
- Mobile app development
- ERP system integration

---

## 🚀 Quick Start for Developers

### **1. Environment Setup**
- **No build tools required** - Pure HTML/JavaScript/CSS
- **Google Apps Script** backend (deployed as web app)
- **Google Sheets** as database
- **Modern browser** support (ES6+ features)

### **2. First Steps**
1. **Read this V4.md file completely** - Understand the project scope
2. **Review PROTOTYPE-STATUS.md** - Know what's working vs. planned
3. **Check ADMIN-PAGE-PROGRESS.md** - See current development status
4. **Test the MVP** - Use `index.html` to understand functionality
5. **Review backend** - Check `gas-related/Code.gs` for API endpoints

### **3. Development Workflow**
```
Read V4.md → Understand Requirements → Check Current Status → 
Develop Feature → Test Thoroughly → Update Documentation → 
Commit Changes → Update V4.md if needed
```

---

## 🔧 Technical Specifications

### **Frontend Stack**
- **Pure HTML5** - No frameworks required
- **Vanilla JavaScript (ES6+)** - Modern async/await, arrow functions
- **CSS3** - Responsive design, no external libraries
- **Mobile-first** approach with responsive breakpoints

### **Backend Stack**
- **Google Apps Script** - Serverless backend
- **Google Sheets API** - Data storage and retrieval
- **RESTful API** - Standard HTTP methods
- **Real-time updates** - Automatic snapshot maintenance

### **Data Structure**
- **Inventory Log**: Transaction history with change tracking
- **Inventory Snapshot**: Current stock levels (real-time)
- **Sales Snapshot**: Sales tracking and analytics
- **Product Master**: SKU and product information

---

## 📚 API Endpoints

### **✅ Working Endpoints**
```javascript
// Base URL (update in your deployment)
const apiBase = "https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec";

// Available Actions
GET ?action=getInventorySnapshot    // Get current inventory
GET ?action=getProducts            // Get product master list
POST ?action=addInventoryLog      // Submit inventory operations
GET ?action=testSheets            // Test sheet connections
GET ?action=getLogs               // Get debug logs
GET ?action=clearLogs             // Clear debug logs
```

### **Data Format for addInventoryLog**
```javascript
// Single operation
{
  "sku": "ABC123",
  "quantity": 5,
  "mode": "RECEIVING", // RECEIVING, SALE, TRANSFER, ADJUSTMENT
  "source": "Supplier", // Source location
  "destination": "Warehouse", // Destination location
  "user": "John Doe",
  "notes": "Optional notes"
}

// Bulk operations (recommended)
[operation1, operation2, operation3...]
```

---

## 🎨 Coding Standards & Conventions

### **JavaScript Standards**
- **ES6+ Features**: Use async/await, arrow functions, destructuring
- **Modern Syntax**: Template literals, spread operators, optional chaining
- **Error Handling**: Always use try-catch with proper error messages
- **Async Operations**: Use fetch API with proper error handling

### **CSS Standards**
- **Mobile-first**: Start with mobile styles, then desktop
- **CSS Variables**: Use existing root variables from style.css
- **Utility Classes**: Leverage existing utility classes when possible
- **Responsive Design**: Ensure all interfaces work on mobile devices

### **HTML Standards**
- **Semantic HTML**: Use proper tags (section, article, nav, etc.)
- **Accessibility**: Include proper labels, ARIA attributes
- **Form Validation**: Client-side validation with clear error messages
- **Progressive Enhancement**: Core functionality works without JavaScript

### **Naming Conventions**
- **Files**: kebab-case (`admin-page.html`, `dashboard-page.html`)
- **Functions**: camelCase (`loadProducts`, `handleFormSubmit`)
- **Variables**: camelCase (`productList`, `currentUser`)
- **Constants**: UPPER_SNAKE_CASE (`API_BASE`, `MAX_RESULTS`)
- **CSS Classes**: kebab-case (`.form-section`, `.search-results`)

---

## 🧪 Testing & Quality Assurance

### **Testing Requirements**
1. **Functionality Testing**: All operation modes work correctly
2. **Form Validation**: Required fields, business rules, error handling
3. **Mobile Testing**: Responsive design on various screen sizes
4. **API Testing**: Backend integration and error scenarios
5. **User Experience**: Intuitive interface, clear feedback, accessibility

### **Testing Checklist**
- [ ] All 4 operation modes (RECEIVING, SALE, TRANSFER, ADJUSTMENT)
- [ ] Form validation and error handling
- [ ] Mobile responsiveness
- [ ] API connectivity and error scenarios
- [ ] Search functionality (fuzzy search, keyboard navigation)
- [ ] Real-time updates and inventory refresh
- [ ] User feedback and status messages

### **Debug Tools**
- **Browser Console**: Check for JavaScript errors
- **Network Tab**: Monitor API calls and responses
- **Debug Logs**: Use `getLogs` endpoint for backend debugging
- **Sheet Validation**: Use `testSheets` endpoint to verify data access

---

## 🔄 Development Workflow

### **Before Starting Work**
1. **Read V4.md completely** - Understand project scope and requirements
2. **Check current status** - Review PROTOTYPE-STATUS.md and ADMIN-PAGE-PROGRESS.md
3. **Understand the MVP** - Test `index.html` to see what's working
4. **Review backend** - Check `gas-related/Code.gs` for API understanding
5. **Plan your approach** - Document what you're going to build

### **During Development**
1. **Follow coding standards** - Use established conventions
2. **Test frequently** - Verify functionality as you build
3. **Document changes** - Add comments for complex logic
4. **Check mobile** - Ensure responsive design works
5. **Validate forms** - Test all user input scenarios

### **After Completing Work**
1. **Test thoroughly** - Run through testing checklist
2. **Update documentation** - Modify relevant .md files
3. **Commit changes** - Use descriptive commit messages
4. **Update V4.md** - If you've changed project structure or requirements
5. **Notify team** - Let others know what's been completed

---

## 📝 Documentation Requirements

### **What to Update When**
- **V4.md** - Major project changes, new features, architecture updates
- **ADMIN-PAGE-PROGRESS.md** - Admin page development progress
- **PROTOTYPE-STATUS.md** - Overall system status changes
- **FINAL-DELIVERABLES.md** - New requirements or feature changes
- **gas-related/README.md** - Backend API changes or new endpoints

### **Documentation Standards**
- **Clear and concise** - Avoid technical jargon when possible
- **Structured format** - Use consistent headings and formatting
- **Examples included** - Show code examples and usage patterns
- **Status indicators** - Use ✅ 🔄 🚧 🎯 emojis for visual clarity
- **Regular updates** - Keep documentation current with development

---

## 🚨 Known Issues & Limitations

### **Current Limitations**
- **No user authentication** - All users have full access
- **Single location support** - Only Shop and Warehouse locations
- **Basic reporting** - Limited analytics and trend analysis
- **No offline support** - Requires internet connection
- **Limited export options** - Basic CSV export only

### **Technical Constraints**
- **Google Apps Script quotas** - Daily execution limits
- **Google Sheets API limits** - Rate limiting on large datasets
- **Browser compatibility** - Modern browsers only (ES6+)
- **Mobile performance** - Large datasets may be slow on mobile

### **Planned Solutions**
- **User authentication** - Role-based access control
- **Multi-location support** - Expand beyond Shop/Warehouse
- **Advanced reporting** - Charts, analytics, forecasting
- **Offline capabilities** - Service worker for offline access
- **Performance optimization** - Caching and data pagination

---

## 🔧 Common Commands & Scripts

### **Git Operations**
```bash
# Quick update (Windows)
quick-push.bat

# Full deployment (Windows)
push-to-github.bat

# Manual git commands
git add .
git commit -m "Descriptive message about changes"
git push origin main
```

### **Development Commands**
```bash
# No build process required - just edit HTML/CSS/JS files
# Test in browser - open HTML files directly or use local server
# Deploy to web server - upload HTML files to hosting service
```

### **Testing Commands**
```bash
# Test API connectivity
# Use browser to test index.html functionality
# Check Google Apps Script logs in Google Apps Script editor
# Verify Google Sheets data updates
```

---

## 📱 Mobile Development Guidelines

### **Mobile-First Approach**
- **Start with mobile** - Design for small screens first
- **Touch-friendly** - Large touch targets (minimum 44px)
- **Responsive breakpoints** - Use CSS media queries
- **Performance** - Optimize for slower mobile connections

### **Mobile Testing**
- **Real devices** - Test on actual phones and tablets
- **Browser dev tools** - Use mobile device simulation
- **Touch gestures** - Test swipe, pinch, and tap interactions
- **Performance** - Check loading times on mobile networks

---

## 🚀 Deployment & Release

### **Development Environment**
- **Local development** - Edit files directly, test in browser
- **Version control** - Git for tracking changes
- **Testing** - Manual testing on various devices and browsers

### **Production Deployment**
- **Google Apps Script** - Deploy backend as web app
- **Web hosting** - Upload HTML files to web server
- **Domain setup** - Configure custom domain if needed
- **SSL certificate** - Ensure HTTPS for production

### **Deployment Checklist**
- [ ] Backend deployed and tested
- [ ] Frontend files uploaded to web server
- [ ] API endpoints updated in frontend code
- [ ] Mobile responsiveness verified
- [ ] All operation modes tested
- [ ] Error handling verified
- [ ] Performance acceptable on mobile devices

---

## 🤝 Team Collaboration

### **Communication Guidelines**
- **Update documentation** - Keep .md files current
- **Document decisions** - Explain why certain approaches were chosen
- **Share progress** - Regular updates on development status
- **Ask questions** - Don't assume, clarify requirements

### **Code Review Process**
- **Self-review** - Test your own code thoroughly
- **Documentation review** - Ensure docs are updated
- **Functionality review** - Verify all features work as expected
- **Mobile review** - Test on various screen sizes

### **Knowledge Sharing**
- **Document solutions** - Share how you solved problems
- **Update examples** - Keep code examples current
- **Share learnings** - Document new discoveries or best practices
- **Maintain consistency** - Follow established patterns

---

## 📚 Additional Resources

### **Key Documentation Files**
- **V4.md** - This file (central developer guide)
- **PROTOTYPE-STATUS.md** - Current system status and achievements
- **ADMIN-PAGE-PROGRESS.md** - Admin page development progress
- **FINAL-DELIVERABLES.md** - Project requirements and specifications
- **gas-related/README.md** - Backend technical documentation

### **External Resources**
- **Google Apps Script** - [Documentation](https://developers.google.com/apps-script)
- **Google Sheets API** - [Reference](https://developers.google.com/sheets/api)
- **Modern JavaScript** - [ES6+ Features](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
- **Responsive Design** - [Mobile-First Approach](https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Responsive_Design)

---

## 🎯 Success Metrics

### **Development Goals**
- **Code Quality** - Clean, maintainable, well-documented code
- **User Experience** - Intuitive, responsive, accessible interfaces
- **Performance** - Fast loading, smooth interactions, mobile-optimized
- **Reliability** - Robust error handling, comprehensive testing
- **Documentation** - Clear, current, comprehensive guides

### **Project Goals**
- **Staff Efficiency** - Faster inventory operations, reduced errors
- **Manager Visibility** - Real-time data, better decision making
- **Business Value** - Accurate inventory, improved planning
- **Scalability** - Easy to extend and maintain

---

## 📝 Update Log

### **Version History**
- **V4.1** - Admin page completed with all 4 operation modes ✅
- **V4.0** - Initial creation of centralized developer guide
- **Status**: Complete admin interface, working prototype with MVP interface
- **Next Phase**: Dashboard interface and future enhancements

### **Recent Updates**
- **Admin page completed** ✅ - All 4 operation modes functional and tested
- **V4.md created** - Centralized developer documentation
- **Backend stable** - All 4 operation modes working correctly

---

## 🚀 Getting Started Checklist

### **For New Developers**
- [ ] **Read V4.md completely** - Understand project scope and requirements
- [ ] **Review PROTOTYPE-STATUS.md** - Know what's working vs. planned
- [ ] **Check ADMIN-PAGE-PROGRESS.md** - See current development status
- [ ] **Test the MVP** - Use `index.html` to understand functionality
- [ ] **Review backend** - Check `gas-related/Code.gs` for API endpoints
- [ ] **Set up environment** - Ensure you can edit and test files
- [ ] **Understand workflow** - Know how to update documentation and commit changes

### **For Returning Developers**
- [ ] **Check V4.md updates** - Review any changes since last session
- [ ] **Review current status** - Check progress on planned features
- [ ] **Understand next priorities** - Know what to work on next
- [ ] **Update documentation** - Keep .md files current with your work

---

## 💡 Tips for Success

### **Development Best Practices**
1. **Start small** - Build and test features incrementally
2. **Test frequently** - Verify functionality as you develop
3. **Document as you go** - Keep documentation current
4. **Follow established patterns** - Maintain consistency with existing code
5. **Think mobile-first** - Ensure responsive design from the start

### **Problem Solving**
1. **Check documentation first** - Many answers are in the .md files
2. **Test the MVP** - Use `index.html` to understand how things should work
3. **Check browser console** - Look for JavaScript errors
4. **Verify API connectivity** - Use `testSheets` endpoint to check backend
5. **Ask questions** - Don't struggle alone, clarify requirements

---

## 🎉 Ready to Start?

You now have all the information needed to contribute to the PM Inventory System V4 project. Remember:

- **This V4.md is your central guide** - Refer to it often
- **Keep documentation updated** - Update relevant .md files as you work
- **Test thoroughly** - Ensure quality before committing changes
- **Follow established patterns** - Maintain consistency with existing code
- **Think user experience** - Build interfaces that are intuitive and efficient

**Happy coding! 🚀**

---

*Last Updated: Current Session*  
*Document Version: V4.0*  
*Maintainer: Development Team*
